<ul style="list-style:none">
    <li
		style="list-style:none"
		*ngFor="let entity of entityList">
		<mat-menu #menu="matMenu" style="font-size:9pt">
			<button
				mat-menu-item
				(click)="openNewGenreDialog(entity)">
				<mat-icon>add</mat-icon>
				<span>Genres of {{entity[entity["SYS_LABEL"]]}}</span>
			</button>
			<button
                mat-menu-item
                (click)="openNewAttributeDialog(entity)">
				<mat-icon>edit</mat-icon>
				<span>Attributes of {{entity[entity["SYS_LABEL"]]}}</span>
			</button>
			<button
				mat-menu-item
				(click)="openNewEntityDialog(entity)">
				<mat-icon>add</mat-icon>
				<span>Entities of {{entity[entity["SYS_LABEL"]]}}</span>
			</button>
            <mat-divider></mat-divider>
			<button
                mat-menu-item
                (click)="deleteObjectById(entity.id)">
				<mat-icon>delete</mat-icon>
				<span>Delete {{entity[entity["SYS_LABEL"]]}}</span>
			</button>
		</mat-menu>
		<span
			fxLayout="row"
			fxLayoutAlign="space-between center">
			<span
				style="width:100%"
				matTooltip="{{entity.SYS_IDENTIFIER}}"
				[matTooltipPosition]="'above'"
				[matTooltipShowDelay]="2000"
				[matTooltipHideDelay]="0"
				(click)="entity.tmp_open=!entity.tmp_open">
				<span
					style="font-size:12pt">
					<!--<mat-checkbox-->
					<!--[checked]="d.tmp_checked"-->
					<!--(change)="d.tmp_checked=!d.tmp_checked">-->
					<!--</mat-checkbox>-->
					<entity-tostring
                        [entity]="entity">
                    </entity-tostring>
                    <span style="font-size:0.5em;opacity:0.5">
                    {{entity.id}}
                    </span>
				</span>
			</span>
			<button
				mat-icon-button
				style="opacity:0.5"
				[matMenuTriggerFor]="menu">
				<mat-icon>more_horiz</mat-icon>
			</button>
		</span>
        <mat-divider></mat-divider>
        <tree-view 
            *ngIf="entity.tmp_open"
            [identifierPrefix]="entity.SYS_IDENTIFIER"
            [parentEntity]="entity">
        </tree-view>
    </li>
</ul>

